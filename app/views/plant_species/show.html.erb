<main clas="container">
    <div class="row d-flex justify-content-center">
        <div class="col-md-auto">
            <%= render  partial: 'plant_species/card',
                        locals: { plant_species: @plant_species, btns: [:edit, :delete], details: true} %>
        </div>
    </div>

    <div class="row">
        <h2>New Comment</h2>

        <%= form_with(model: Comment.new) do |form| %>
            <%= form.hidden_field :commentable_id, value: @plant_species.id %>
            <%= form.hidden_field :commentable_type, value: 'PlantSpecies' %>

            <div class="mb-3">
                <%= form.text_area :body, class: "form-control" %>
            </div>

            <%= form.submit 'Comment', class: 'btn btn-success' %>
        <% end %>
    </div>

    <div class="row">
        <h2>Comments</h2>

        <% if @plant_species.comments.empty? %>
            <p>No comments yet</p>
        <% else%>
            <ul class="list-group col">
                <% @plant_species.comments.each do |comment| %>
                    <%= render partial: 'comments/list_item', locals: { comment: comment } %>
                <% end %>
            </ul>
        <% end %>
    </div>
</main>
